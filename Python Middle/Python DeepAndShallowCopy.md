#### 1. 深拷贝和浅拷贝之间的区别是什么？
* 概念
  * 直接赋值：Python一切的赋值都 是引用
  * 浅拷贝(copy)：拷贝父对象，不会拷贝对象的内部的子对象
    * 可以理解为只对最高层对象进行一个复制，对其它层的对象只是引用
    * 使用id查看一个list和它的copy后的list，会发现它们的内存地址并不相同，但是内部元素的地址是相同的
  * 深拷贝(deepcopy)： copy 模块的 deepcopy 方法，完全拷贝了父对象及其子对象
    * 对于列表中的嵌套列表，深拷贝后id不同，代表都已经在堆中重新创建了一份
    * ​需要注意深拷贝对于字符串​​以及​数字​​的引用仍是相同的，原因在于这些基础数字、字母在python启动的时候会进行缓存，在内存中有且只有一份

* 方法
  * b = a: 赋值引用，a 和 b 都指向同一个对象
  * b = a.copy(): 浅拷贝, a 和 b 是一个独立的对象，但他们的子对象还是指向统一对象（是引用）
  * b = copy.deepcopy(a): 深度拷贝, a 和 b 完全拷贝了父对象及其子对象，两者是完全独立的
* 应用
  * 1、创建两个互不影响的列表
    * 用直接赋值的方式创建的两个列表指向的是同一个对象，修改列表L1会影响到L2
    ```
    L1 = [2,3,4]      #L1变量指向的是一个可变对象:列表  
    L2 = L1           #将L1值赋给L2后，两者共享引用同一个列表对象[1,2,3,4]  
    L1[0] = 200       #因为列表可变，改变L1中第一个元素的值  
    print(L1)  # [200, 3, 4] 
    print(L2)  # [200, 3, 4]
    ```
    * 如果不想改变列表L2的值，有切片和使用copy模块两种方法
    ```
    L2 = L1[:]  # 切片操作
    L2 = L1.copy()  # copy
    ```
    切片技术是浅拷贝，可以应用于所有的序列，包括列表、字符串、元组等
    但切片不能应用于字典，对字典只能使用Dic.copy()方法或者Dic.deepcopy()方法
    深、浅拷贝，既可用于序列，也可用于字典
* 结论
  * 深浅拷贝都是对源对象的复制，占用不同的内存空间；
  * 如果源对象只有一级目录的话，源做任何改动，不影响深浅拷贝对象；
  * 如果源对象不止一级目录的话，源做任何改动，都要影响浅拷贝，但不影响深拷贝；
  * 序列对象的切片其实是浅拷贝，即只拷贝顶级的对象。
  
#### 2. 实战
* 爬虫爬取了许多公司的主页以及子网页，对于子网页又提取了其内部的关键词，也就是一个主页对应了多个子页，需要对这个一对多关系构建主页-子页的冗余映射
  * 已知格式：
    属于同一个领域的公司的主页信息(每个领域存一个txt)，简例： 
    ```
    dic = {"website": "公司主页url", "title": "公司名称", "basic_info": "公司简介"}
    ```
    一个文件夹，文件夹名代表单个领域，里面是以公司主页网址命名的每个公司子网页的信息(txt,一行一条)，数据格式：
    ```
    son_list = [{"website": "公司主页url", "son_url": "子页面url1", "pics": ["子页面的图片url1"], "text": ["子页面中的关键词1"]},
    {"website": "公司主页url", "son_url": "子页面url2", "pics": ["子页面的图片url2"], "text": ["子页面中的关键词2"]},
    {"website": "公司主页url", "son_url": "子页面url3", "pics": ["子页面的图片url3"], "text": ["子页面中的关键词3"]}]
    ```
  * 问题：
    思路是先取出公司的主页信息，构建一个dict存好，然后遍历对应的子页txt，通过dic["son_url"]、dic["pics"]、dic["text"]修改里面的内容形成对不同子页的映射
    然后统一装在一个列表里，这样有多少子页list中就会有多少相应的记录，但是实际操作却发现每个主页的多个子页的记录数据全部相同
  * 分析
    因为在这个循环代码块中，dic只有一个，那么它的内部元素指向的内存地址也是一样的，因此用dic[]修改内容会影响到list中已保存的前面的dic
  * 解决
    采用深拷贝
    ```
    from copy import deepcopy
    data = []
    for son in son_list:
        deep_dic = deepcopy(dic)
        deep_dic["son_url"] = son["son_url"]
        deep_dic["pics"] = son["pics"]
        deep_dic["text"] = son["text"]
        data.append(deep_dic)
    print(data)
    ```
